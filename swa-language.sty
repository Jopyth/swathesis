\PassOptionsToPackage{USenglish,german}{datenumber}
\RequirePackage{datenumber}
\setdatetoday

\RequirePackage{swa-platform}
\ifcsundef{if@swa@german}{
  \newif\if@swa@german
}{}

\ifboolexpr{bool{xetex}}{
  \RequirePackage{polyglossia}

  \ifboolexpr{bool{@swa@german}}{
    \setotherlanguage{english}
    \setmainlanguage[babelshorthands,latesthyphen=true]{german}
  }{
    \setmainlanguage{english}
    \setotherlanguage[babelshorthands,latesthyphen=true]{german}
  }

  \defcaptionname{english}{\figureautorefname}{figure}
  \defcaptionname{english}{\figureautorefname}{figure}
  \defcaptionname{english}{\tableautorefname}{table}
  \defcaptionname{english}{\lstlistingautorefname}{listing}
  \defcaptionname{english}{\lstnumberautorefname}{line}
  \defcaptionname{english}{\subsectionautorefname}{\sectionautorefname}
  \defcaptionname{english}{\subsubsectionautorefname}{\sectionautorefname}
  \gappto\extrasenglish{%
    \@datelanguageUSenglish
    }

  \defcaptionname{german}{\subsectionautorefname}{\sectionautorefname}
  \defcaptionname{german}{\subsubsectionautorefname}{\sectionautorefname}
  \gappto\extrasgerman{%
    \@datelanguagegerman
    }
}{
%fool AUCTeX
\iffalse
  \PassOptionsToPackage{english}{babel}
\RequirePackage{babel}
\fi


  \ifboolexpr{bool{@swa@german}}{
    % hyperref can't handle that.
    % \PassOptionsToPackage{main=english,ngerman}{babel}
\RequirePackage{babel}
    % order matters!
    \PassOptionsToPackage{english,ngerman}{babel}
\RequirePackage{babel}
  }{
    % hyperref can't handle that.
    % \PassOptionsToPackage{main=english,ngerman}{babel}
\RequirePackage{babel}
    % order matters!
    \PassOptionsToPackage{ngerman,english}{babel}
\RequirePackage{babel}
  }

  \defcaptionname{english}{\figureautorefname}{figure}
  \defcaptionname{english}{\figureautorefname}{figure}
  \defcaptionname{english}{\tableautorefname}{table}
  \defcaptionname{english}{\lstlistingautorefname}{listing}
  \defcaptionname{english}{\lstnumberautorefname}{line}
  \defcaptionname{english,german,ngerman}{\subsectionautorefname}{\sectionautorefname}
  \defcaptionname{english,german,ngerman}{\subsubsectionautorefname}{\sectionautorefname}
  \addto\extrasenglish{%
    \@datelanguageUSenglish
  }

  \addto\extrasngerman{%
    \@datelanguagegerman
    }
  \addto\extrasgerman{%
    \@datelanguagegerman
    }

}
% Some commons
\providecaptionname{english}{\advisorname}{Advisor}%
\providecaptionname{english}{\advisorsname}{Advisors}%
\providecaptionname{german,ngerman}{\advisorname}{Betreuer:in}%
\providecaptionname{german,ngerman}{\advisorsname}{Betreuer:innen}%

\providecaptionname{english}{\reviewername}{Reviewer}%
\providecaptionname{english}{\reviewersname}{Reviewers}%
\providecaptionname{german,ngerman}{\reviewername}{Gutachter:in}%
\providecaptionname{german,ngerman}{\reviewersname}{Gutachter:innen}%

\endinput
